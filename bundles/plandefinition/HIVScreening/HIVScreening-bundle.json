{
  "resourceType": "Bundle",
  "id": "HIVScreening-bundle",
  "type": "transaction",
  "entry": [ {
    "resource": {
      "resourceType": "PlanDefinition",
      "id": "HIVScreening",
      "url": "http://fhir.org/guides/nachc/hiv-cds/PlanDefinition/HIVScreening",
      "identifier": [ {
        "use": "official",
        "value": "nachc-HIV-Screening"
      } ],
      "version": "1.0.0",
      "name": "HIVScreening",
      "title": "NACHC HIV Screening",
      "type": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
          "code": "eca-rule",
          "display": "ECA Rule"
        } ]
      },
      "status": "draft",
      "date": "2021-07-31T00:00:00-08:00",
      "publisher": "National Association of Community Health Centers, Inc. (NACHC)",
      "description": "This PlanDefinition defines a Clinical Decision Support rule to determine whether HIV Screening is appropriate based on CDC Recommendations for HIV Screening",
      "useContext": [ {
        "code": {
          "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
          "version": "4.0.1",
          "code": "focus",
          "display": "Clinical Focus"
        },
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://hl7.org/fhir/sid/icd-10-cm",
            "version": "2021",
            "code": "B20",
            "display": "Human immunodeficiency virus [HIV] disease"
          } ]
        }
      } ],
      "jurisdiction": [ {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/iso3166-1-3",
          "version": "4.0.1",
          "code": "USA",
          "display": "United States of America"
        } ]
      } ],
      "purpose": "The purpose of this is to identify and build CDS support for HIV Screening.",
      "usage": "This is to be used in conjunction with a patient-facing FHIR application.",
      "copyright": "© Copyright National Association of Community Health Centers, Inc. (NACHC) 2021+.",
      "topic": [ {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/definition-topic",
          "version": "4.0.1",
          "code": "assessment",
          "display": "Assessment"
        } ],
        "text": "HIV Management"
      } ],
      "library": [ "http://fhir.org/guides/nachc/hiv-cds/Library/HIVScreening" ],
      "action": [ {
        "title": "HIV Screening",
        "documentation": [ {
          "type": "documentation",
          "display": "Info for those with HIV",
          "url": "https://www.cdc.gov/hiv/guidelines/testing.html"
        } ],
        "trigger": [ {
          "type": "named-event",
          "name": "patient-view"
        } ],
        "condition": [ {
          "kind": "start",
          "expression": {
            "language": "text/cql",
            "expression": "'true'"
          }
        } ],
        "dynamicValue": [ {
          "path": "action.description",
          "expression": {
            "description": "Patient Name.",
            "language": "text/cql.identifier",
            "expression": "Patient Name"
          }
        }, {
          "path": "action.extension",
          "expression": {
            "language": "text/cql.identifier",
            "expression": "Info"
          }
        } ],
        "action": [ {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Never Tested Recommendation",
          "description": "Perform CDC Recommendation for Never Tested Treatment if conditions are met.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "Never Tested Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for Never Tested screenings.",
              "language": "text/cql.identifier",
              "expression": "Never Tested Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for Never Tested screenings.",
              "language": "text/cql.identifier",
              "expression": "Never Tested Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Never Tested Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Never Tested Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "MSM Recommendation",
          "description": "Perform CDC Recommendation for MSM if conditions are met for either 3 month or annual testing.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "MSM Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for screening.",
              "language": "text/cql.identifier",
              "expression": "MSM Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for screening.",
              "language": "text/cql.identifier",
              "expression": "MSM Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "MSM Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "MSM Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Pregnancy Recommendation",
          "description": "Perform CDC Recommendation for Pregnancy if conditions are met for first prenatal visit or third trimester high risk testing.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "Pregnant Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for Pregnancy screenings.",
              "language": "text/cql.identifier",
              "expression": "Pregnant Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for Pregnancy screenings.",
              "language": "text/cql.identifier",
              "expression": "Pregnant Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Pregnant Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Pregnant Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Seeking Treatment Recommendation",
          "description": "Perform CDC Recommendation for Seeking STD Treatment if conditions are met.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for Seeking STD Treatment screenings.",
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for Seeking STD Treatment screenings.",
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Risk Level Recommendation",
          "description": "Determines type of recommendation based on risk level regarding status of HIV Screening.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in screening population.",
              "language": "text/cql.identifier",
              "expression": "Risk Level Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Determines what recommendation patient should be provided.",
              "language": "text/cql.identifier",
              "expression": "Risk Level Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Rationale for recommendation type.",
              "language": "text/cql.identifier",
              "expression": "Risk Level Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Risk Level Indicator Status"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Risk Level Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "title": "Exclusion from HIV Screening",
          "description": "Determines if patient was excluded from HIV Screening Recommendation.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in hiv exclusion population.",
              "language": "text/cql.identifier",
              "expression": "Meets Exclusion Criteria"
            }
          } ],
          "dynamicValue": [ {
            "path": "action.description",
            "expression": {
              "description": "Rationale for why patient was excluded from the hiv screening.",
              "language": "text/cql.identifier",
              "expression": "Exclusion Reason"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Info"
            }
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "PlanDefinition/HIVScreening"
    }
  }, {
    "resource": {
      "resourceType": "Library",
      "id": "HIVScreening",
      "extension": [ {
        "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
        "valueReference": {
          "reference": "Device/cqf-tooling"
        }
      } ],
      "url": "http://fhir.org/guides/nachc/hiv-cds/Library/HIVScreening",
      "name": "HIVScreening",
      "title": "Library - HIV Screening",
      "type": {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/library-type",
          "version": "4.0.1",
          "code": "logic-library",
          "display": "Logic Library"
        } ]
      },
      "subjectCodeableConcept": {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/subject-type",
          "version": "4.0.1",
          "code": "Patient",
          "display": "Patient"
        } ]
      },
      "date": "2021-05-12T00:00:00-07:00",
      "publisher": "National Association of Community Health Centers, Inc. (NACHC)",
      "contact": [ {
        "telecom": [ {
          "system": "url",
          "value": "https://www.nachc.org/"
        } ]
      } ],
      "description": "Logic library for implementation of the CDC HIV Screening Recommendation.",
      "useContext": [ {
        "code": {
          "system": "http://hl7.org/fhir/usage-context-type",
          "version": "4.0.1",
          "code": "focus",
          "display": "Clinical Focus"
        },
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://hl7.org/fhir/sid/icd-10-cm",
            "version": "2021",
            "code": "B20",
            "display": "Human immunodeficiency virus [HIV] disease"
          } ]
        }
      } ],
      "jurisdiction": [ {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/iso3166-1-3",
          "version": "4.0.1",
          "code": "USA",
          "display": "United States of America"
        } ]
      } ],
      "purpose": "The purpose of this is to implement a Clinical Decision Support Workflow via CDS-Hooks to establish the CDC's HIV Screening Recommendation.",
      "usage": "This is to be used in conjunction with a patient-facing FHIR application.",
      "copyright": "© Copyright National Association of Community Health Centers, Inc. (NACHC) 2021+.",
      "topic": [ {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/definition-topic",
          "version": "4.0.1",
          "code": "assessment",
          "display": "Assessment"
        } ],
        "text": "HIV Management"
      } ],
      "content": [ {
        "contentType": "text/cql",
        "data": "bGlicmFyeSBISVZTY3JlZW5pbmcKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJwppbmNsdWRlIEZISVJDb21tb24gIHZlcnNpb24gJzQuMC4xJyBjYWxsZWQgRkMKCmluY2x1ZGUgTkFDSENDb21tb24gY2FsbGVkIE5DCmluY2x1ZGUgSElWQ29tbW9uIGNhbGxlZCBIQwppbmNsdWRlIEhJVkNvbmNlcHRzIGNhbGxlZCBDeAoKaW5jbHVkZSBISVZEYXRhRWxlbWVudHMgY2FsbGVkIEhERQoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIkluZm8iOgogICdpbmZvJwoKZGVmaW5lICJXYXJuaW5nIjoKICAnd2FybmluZycKCmRlZmluZSAiQ3JpdGljYWwiOgogICdjcml0aWNhbCcKCmRlZmluZSAiRXJyb3JzIjoKICBudWxsCgpkZWZpbmUgIlBhdGllbnQgTmFtZSI6CiAgRmlyc3QoUGF0aWVudC5uYW1lLmdpdmVuKQogICArICcgJyArCiAgRmlyc3QoUGF0aWVudC5uYW1lLmZhbWlseSkKCgovKiBSZWNvbW1lbmRhdGlvbiBDcml0ZXJpYSAtIEhJViBTY3JlZW5pbmcgICovCmRlZmluZSAiTWVldHMgSW5jbHVzaW9uIENyaXRlcmlhIjoKICJQYXRpZW50IGlzIGJldHdlZW4gMTMgYW5kIDY0IHllYXJzIG9sZCIKIG9yICJQYXRpZW50IGlzIFNlZWtpbmcgVHJlYXRtZW50IGZvciBhbiBTVEQiCgpkZWZpbmUgIk1lZXRzIEV4Y2x1c2lvbiBDcml0ZXJpYSI6CiAgIkFjdGl2ZSBEaWFnbm9zaXMgb2YgSElWIER1cmluZyBQYXRpZW50IFZpc2l0IiBpcyBub3QgbnVsbAoKZGVmaW5lICJJbiBQb3B1bGF0aW9uIjoKICAiTWVldHMgSW5jbHVzaW9uIENyaXRlcmlhIgogIGFuZCBub3QgIk1lZXRzIEV4Y2x1c2lvbiBDcml0ZXJpYSIKCi8qIE9QVElPTlM6CgogICAgMS4gUmVjb21tZW5kIFNjcmVlbmluZyAzIG1vbnRocyAoSGlnaCBSaXNrIC0gQ0RDIFJpc2sgRmFjdG9ycykKICAgIDIuIFJlY29tbWVuZCBTY3JlZW5pbmcgQW5udWFsbHkgKE1vZGVyYXRlIFJpc2sgLSBTT0dJIFJpc2sgRmFjdG9ycykKICAgIDMuIE5vIFJlY29tbWVuZGF0aW9uIFNjcmVlbmluZyAoTm8gUmlzaykgLyBMb3cgUmlzawogICAgNC4gUmVjb21tZW5kIFNjcmVlbmluZyBDdXN0b20gUGVyaW9kcyAoMyBtb250aHMgYmFzZWQgb24gc3BlY2lmaWMgcmlzayBmYWN0b3IgLS0gc2V4dWFsbHkgYWN0aXZlIE1TTSB3LyBwcmVwLCBldGMpCiAgICAgIC8vIE1TTSAvIFByZWduYW5jeSAvIENEQyBSZWNvbW1lbmRhdGlvbgoKICAvLyAtIEhpZ2ggUmlzawogICAgLy8gQ0RDIFJJU0sgRkFDVE9SUwogICAgLy8gRHJ1ZyBBYnVzZSAoREFTVC0xMCkKCiAgLy8gLSBNZWRpdW0gUmlzawogICAgLy8gU09HSSBFTEVNRU5UUwoKICAvLyAtIE5vIFJpc2sKICAgIC8vIERvY3VtZW50ZWQgbm90IFNleHVhbGx5IEFjdGl2ZSAoUmlzayBGYWN0b3JzIFF1ZXN0aW9ubmFpcmUgREUgMTMgLyAxNCkKCiAgLy8gLSBMb3cgUmlzawogICAgLy8gREVGQVVMVAoKICAvLyBURVNUIE9SREVSOgogICAgTmVlZHMgQWN0aXZpdHlEZWZpbml0aW9uIGluIHRoZSBQbGFuRGVmaW5pdGlvbi4KICAgIE5lZWQgdG8gYmUgYWJsZSB0byBzcGVjaWZ5IHdoYXQgdGhleSBhcmUgb3JkZXJpbmcgaW4gdGhlIGNvbmZpZ3VyYXRpb24uCiAgICBTZXJ2aWNlUmVxdWVzdCB1c2luZyBEYXRhIEVsZW1lbnQgT3JkZXJlZCBDb2RlcwoKCiAgLy8gVE9ETzoKICBTbm9vemUgT3B0aW9ucyAvIE92ZXJyaWRlOgogICAgQWNjZXB0IC0gUGxhY2Ugb3JkZXIKICAgIERvY3VtZW50IFRlc3QgLSBBQ1RJT046IFF1ZXN0aW9ubmFpcmUgdG8gc3VwcG9ydCBkb2N1bWVudGluZyB0ZXN0CiAgICBTbm9vemUgLSAxIG1vbnRoCiAgICBTbm9vemUgLSAxMiBtb250aHMKICAgIFBhdGllbnQgRGVjbGluZWQgLSBBQ1RJT046IERvY3VtZW50IHBhdGllbnQgcHJlZmVyZW5jZQoKKi8KCi8qCgpPUkRFUjoKICAxLiBOZXZlciBURVNURUQKICAyLiBDREMgRWRnZSBDYXNlcyAoTVNNICYgUHJlZ25hbmN5KQogIDMuUmlzayBTY29yaW5nCiAgICBhLiBIaWdoIFJpc2sKICAgIGIuIE1vZGVyYXRlIFJpc2sKICAgIGMuIExvdyBSaXNrIC8gTm8gUmlzawoKKi8KCi8vIE5FVkVSIFRFU1RFRApkZWZpbmUgIk5ldmVyIFRlc3RlZCBDb25kaXRpb24iOgogICJJbiBQb3B1bGF0aW9uIgogIGFuZCBub3QgIlBhdGllbnQgaGFzIGhhZCBhbiBISVYgU2NyZWVuaW5nIgoKZGVmaW5lICJOZXZlciBUZXN0ZWQgUmVjb21tZW5kYXRpb24iOgogICdISVYgU2NyZWVuaW5nIFJlY29tbWVuZGVkIGR1ZSB0byBwYXRpZW50IG5ldmVyIGhhdmluZyBiZWVuIHRlc3RlZC4nCgpkZWZpbmUgIk5ldmVyIFRlc3RlZCBSYXRpb25hbGUiOgogICdDREMgcmVjb21tZW5kcyB0aGF0IGRpYWdub3N0aWMgSElWIHRlc3RpbmcgYW5kIG9wdC1vdXQgSElWIHNjcmVlbmluZyBiZSBhIHBhcnQgb2Ygcm91dGluZSBjbGluaWNhbCBjYXJlIGluIGFsbCBoZWFsdGgtY2FyZSBzZXR0aW5ncyB3aGlsZSBhbHNvIHByZXNlcnZpbmcgdGhlIHBhdGllbnRzIG9wdGlvbiB0byBkZWNsaW5lIEhJViB0ZXN0aW5nIGFuZCBlbnN1cmluZyBhIHByb3ZpZGVyLXBhdGllbnQgcmVsYXRpb25zaGlwIGNvbmR1Y2l2ZSB0byBvcHRpbWFsIGNsaW5pY2FsIGFuZCBwcmV2ZW50aXZlIGNhcmUuJwoKZGVmaW5lICJOZXZlciBUZXN0ZWQgSW5kaWNhdG9yIjoKICAiSW5mbyIKCgovKiBDREMgRURHRSBDQVNFUyAqLwovLyBNU00KZGVmaW5lICJNU00gQ29uZGl0aW9uIjoKICAiSW4gUG9wdWxhdGlvbiIKICBhbmQgKAogICAgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdobyBzaG91bGQgYmUgU2NyZWVuZWQgRXZlcnkgMyBNb250aHMiCiAgICBvciAiUGF0aWVudCBpcyBhIFNleHVhbGx5IEFjdGl2ZSBNU00gd2hvIHNob3VsZCBiZSBTY3JlZW5lZCBBbm51YWxseSIKICApCgpkZWZpbmUgIk1TTSBSZWNvbW1lbmRhdGlvbiI6CiAgaWYgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdobyBzaG91bGQgYmUgU2NyZWVuZWQgRXZlcnkgMyBNb250aHMiIHRoZW4KICAgICdUaHJlZSBNb250aCBISVYgU2NyZWVuaW5nIFJlY29tbWVuZGVkIGR1ZSB0byBwYXRpZW50IGJlaW5nIGEgc2V4dWFsbHkgYWN0aXZlIE1TTSB3aG8gaGFzIGJlZW4gcHJlc2NyaWJlZCBQckVQIGluIHRoZSBwYXN0LicKICBlbHNlIGlmICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aG8gc2hvdWxkIGJlIFNjcmVlbmVkIEFubnVhbGx5IiB0aGVuCiAgICAnQW5udWFsIEhJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgYmVpbmcgYSBzZXh1YWxseSBhY3RpdmUgTVNNIHdpdGhvdXQgSElWIGFuZCBoYXMgaGFkIG11bHRpcGxlIHNleCBwYXJ0bmVycy4nCiAgZWxzZSAnSElWIFNjcmVlbmluZyBOb3QgUmVjb21tZW5kZWQgYXQgdGhpcyB0aW1lLiBJdCBoYXMgYmVlbiAnICsgVG9TdHJpbmcoIkFtb3VudCBvZiBEYXlzIFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciKSArICcgZGF5cyBzaW5jZSBsYXN0IEhJViBTY3JlZW5pbmcuJwoKZGVmaW5lICJNU00gUmF0aW9uYWxlIjoKICAnQW1vbmcgeW91bmcgKGFnZWQgMTgtLTI0IHllYXJzKSBtZW4gd2hvIGhhdmUgc2V4IHdpdGggbWVuIChNU00pIHN1cnZleWVkIGR1cmluZyAyMDA0LS0yMDA1IGluIGZpdmUgVS5TLiBjaXRpZXMsIDE0JSB3ZXJlIGluZmVjdGVkIHdpdGggSElWOyA3OSUgb2YgdGhlc2UgSElWLWluZmVjdGVkIE1TTSB3ZXJlIHVuYXdhcmUgb2YgdGhlaXIgaW5mZWN0aW9uLicKCmRlZmluZSAiTVNNIEluZGljYXRvciI6CiAgaWYgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdobyBzaG91bGQgYmUgU2NyZWVuZWQgRXZlcnkgMyBNb250aHMiIHRoZW4gIldhcm5pbmciCiAgZWxzZSAiV2FybmluZyIKCgovLyBQUkVHTkFOQ1kKZGVmaW5lICJQcmVnbmFudCBDb25kaXRpb24iOgogICJJbiBQb3B1bGF0aW9uIgogIGFuZCAoCiAgICAiUGF0aWVudCBpcyBhdCBGaXJzdCBQcmVuYXRhbCBWaXNpdCIKICAgIG9yICJQYXRpZW50IGlzIEhpZ2ggUmlzayBpbiBUaGlyZCBUcmltZXN0ZXIgb2YgUHJlZ25hbmN5IgogICkKCmRlZmluZSAiUHJlZ25hbnQgUmVjb21tZW5kYXRpb24iOgogIGlmICJQYXRpZW50IGlzIGF0IEZpcnN0IFByZW5hdGFsIFZpc2l0IiBhbmQgIk92ZXIgMyBNb250aHMgaGFzIFBhc3QgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyIgdGhlbgogICAgJ0hJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgbm93IGR1ZSB0byBwYXRpZW50IGJlaW5nIGF0IGZpcnN0IHByZW5hdGFsIHZpc2l0LicKICBlbHNlIGlmICJQYXRpZW50IGlzIEhpZ2ggUmlzayBpbiBUaGlyZCBUcmltZXN0ZXIgb2YgUHJlZ25hbmN5IiBhbmQgIk92ZXIgMyBNb250aHMgaGFzIFBhc3QgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyIgdGhlbgogICAgJ0hJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgYmVpbmcgYXQgaGlnaCByaXNrIG9mIEhJViBkdXJpbmcgdGhpcmQgdHJpbWVzdGVyIG9mIHByZWduYW5jeS4nCiAgZWxzZSAnSElWIFNjcmVlbmluZyBOb3QgUmVjb21tZW5kZWQgYXQgdGhpcyB0aW1lLiBJdCBoYXMgYmVlbiAnICsgVG9TdHJpbmcoIkFtb3VudCBvZiBEYXlzIFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciKSArICcgZGF5cyBzaW5jZSBsYXN0IEhJViBTY3JlZW5pbmcuJwoKZGVmaW5lICJQcmVnbmFudCBSYXRpb25hbGUiOgogIGlmICJQYXRpZW50IGlzIGF0IEZpcnN0IFByZW5hdGFsIFZpc2l0IiB0aGVuCiAgICAnVG8gcHJvbW90ZSBpbmZvcm1lZCBhbmQgdGltZWx5IHRoZXJhcGV1dGljIGRlY2lzaW9ucywgaGVhbHRoLWNhcmUgcHJvdmlkZXJzIHNob3VsZCB0ZXN0IHdvbWVuIGZvciBISVYgYXMgZWFybHkgYXMgcG9zc2libGUgZHVyaW5nIGVhY2ggcHJlZ25hbmN5LiBXb21lbiB3aG8gZGVjbGluZSB0aGUgdGVzdCBlYXJseSBpbiBwcmVuYXRhbCBjYXJlIHNob3VsZCBiZSBlbmNvdXJhZ2VkIHRvIGJlIHRlc3RlZCBhdCBhIHN1YnNlcXVlbnQgdmlzaXQuJwogIGVsc2UgaWYgIlBhdGllbnQgaXMgSGlnaCBSaXNrIGluIFRoaXJkIFRyaW1lc3RlciBvZiBQcmVnbmFuY3kiIHRoZW4KICAgICdBIHNlY29uZCBISVYgdGVzdCBkdXJpbmcgdGhlIHRoaXJkIHRyaW1lc3RlciBmb3Igd29tZW4gaW4gc2V0dGluZ3Mgd2l0aCBlbGV2YXRlZCBISVYgaW5jaWRlbmNlICg+MTcgY2FzZXMgcGVyIDEwMCwwMDAgcGVyc29uLXllYXJzKSBpcyBjb3N0LWVmZmVjdGl2ZSBhbmQgbWlnaHQgcmVzdWx0IGluIHN1YnN0YW50aWFsIHJlZHVjdGlvbnMgaW4gbW90aGVyLXRvLWNoaWxkIEhJViB0cmFuc21pc3Npb24uJwogIGVsc2UgJycKCmRlZmluZSAiUHJlZ25hbnQgSW5kaWNhdG9yIjoKICBpZiAiUGF0aWVudCBpcyBhdCBGaXJzdCBQcmVuYXRhbCBWaXNpdCIgdGhlbiAiSW5mbyIKICBlbHNlIGlmICJQYXRpZW50IGlzIEhpZ2ggUmlzayBpbiBUaGlyZCBUcmltZXN0ZXIgb2YgUHJlZ25hbmN5IiB0aGVuICJDcml0aWNhbCIKICBlbHNlICJJbmZvIgoKCi8vIFNFRUtJTkcgVFJFQVRNRU5UCmRlZmluZSAiU2Vla2luZyBTVEQgVHJlYXRtZW50IENvbmRpdGlvbiI6CiAgIkluIFBvcHVsYXRpb24iCiAgYW5kICJQYXRpZW50IGlzIFNlZWtpbmcgVHJlYXRtZW50IGZvciBhbiBTVEQiCgpkZWZpbmUgIlNlZWtpbmcgU1REIFRyZWF0bWVudCBSZWNvbW1lbmRhdGlvbiI6CiAgaWYgIk92ZXIgMyBNb250aHMgaGFzIFBhc3QgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyIgdGhlbiAnSElWIFNjcmVlbmluZyBSZWNvbW1lbmRlZCBub3cgZHVlIHRvIHBhdGllbnQgaW50ZXJlc3QuJwogIGVsc2UgJ0hJViBTY3JlZW5pbmcgTm90IFJlY29tbWVuZGVkIGF0IHRoaXMgdGltZS4gSXQgaGFzIGJlZW4gJyArIFRvU3RyaW5nKCJBbW91bnQgb2YgRGF5cyBTaW5jZSBQcmV2aW91cyBISVYgU2NyZWVuaW5nIikgKyAnIGRheXMgc2luY2UgbGFzdCBISVYgU2NyZWVuaW5nLicKCmRlZmluZSAiU2Vla2luZyBTVEQgVHJlYXRtZW50IFJhdGlvbmFsZSI6CiAgJ0FsbCBwYXRpZW50cyBzZWVraW5nIHRyZWF0bWVudCBmb3IgU1REcywgaW5jbHVkaW5nIGFsbCBwYXRpZW50cyBhdHRlbmRpbmcgU1REIGNsaW5pY3MsIHNob3VsZCBiZSBzY3JlZW5lZCByb3V0aW5lbHkgZm9yIEhJViBkdXJpbmcgZWFjaCB2aXNpdCBmb3IgYSBuZXcgY29tcGxhaW50LCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIHBhdGllbnQgaXMga25vd24gb3Igc3VzcGVjdGVkIHRvIGhhdmUgc3BlY2lmaWMgYmVoYXZpb3Igcmlza3MgZm9yIEhJViBpbmZlY3Rpb24uJwoKZGVmaW5lICJTZWVraW5nIFNURCBUcmVhdG1lbnQgSW5kaWNhdG9yIjoKICAiSW5mbyIKCgovKiBSSVNLIExldmVsIEFjdGlvbnMgKi8KZGVmaW5lICJSaXNrIExldmVsIENvbmRpdGlvbiI6CiAgIkluIFBvcHVsYXRpb24iCiAgYW5kICgKICAgICJOZXZlciBUZXN0ZWQgQ29uZGl0aW9uIiBpcyBmYWxzZQogICAgYW5kICJNU00gQ29uZGl0aW9uIiBpcyBmYWxzZQogICAgYW5kICJQcmVnbmFudCBDb25kaXRpb24iIGlzIGZhbHNlCiAgICBhbmQgIlNlZWtpbmcgU1REIFRyZWF0bWVudCBDb25kaXRpb24iIGlzIGZhbHNlCiAgKQoKZGVmaW5lICJSaXNrIExldmVsIFJlY29tbWVuZGF0aW9uIjoKICBpZiAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgZm9yIEhJViIgYW5kICJPdmVyIDMgTW9udGhzIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciIHRoZW4gJ0hJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgYmVpbmcgYXQgSGlnaCBSaXNrIGZvciBISVYgYW5kIG92ZXIgdGhyZWUgbW9udGhzIGhhdmUgcGFzc2VkIHNpbmNlIHByZXZpb3VzIHNjcmVlbmluZy4nCiAgZWxzZSBpZiAiUGF0aWVudCBpcyBhdCBNb2RlcmF0ZSBSaXNrIGZvciBISVYiIGFuZCAiT3ZlciBhIFllYXIgaGFzIFBhc3QgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyIgdGhlbiAnSElWIFNjcmVlbmluZyBSZWNvbW1lbmRlZCBkdWUgdG8gcGF0aWVudCBiZWluZyBhdCBNb2RlcmF0ZSBSaXNrIGZvciBISVYgYW5kIG92ZXIgYSBZZWFyIGhhcyBwYXNzZWQgc2luY2UgcHJldmlvdXMgc2NyZWVuaW5nLicKICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IE5vIFJpc2sgZm9yIEhJViIgdGhlbiAnSElWIFNjcmVlbmluZyBOb3QgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgYmVpbmcgYXQgTm8gUmlzayBmb3IgSElWLicKICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IExvdyBSaXNrIGZvciBISVYiIHRoZW4gJ0hJViBTY3JlZW5pbmcgTm90IFJlY29tbWVuZGVkIGR1ZSB0byBwYXRpZW50IGJlaW5nIGF0IExvdyBSaXNrIGZvciBISVYuJwogIGVsc2UgJ0hJViBTY3JlZW5pbmcgTm90IFJlY29tbWVuZGVkIGF0IHRoaXMgdGltZS4gSXQgaGFzIGJlZW4gJyArIFRvU3RyaW5nKCJBbW91bnQgb2YgRGF5cyBTaW5jZSBQcmV2aW91cyBISVYgU2NyZWVuaW5nIikgKyAnIGRheXMgc2luY2UgbGFzdCBISVYgU2NyZWVuaW5nLicKCi8qIFJpc2sgTGV2ZWwgUmF0aW9uYWwgYmFzZWQgb24gUmVjb21tZW5kYXRpb24gT3B0aW9uIChSZWZlcmVuY2VzIHRvIENEQyBSZWNvbW1lbmRhdGlvbnMpICovCmRlZmluZSAiUmlzayBMZXZlbCBSYXRpb25hbGUiOgogIGlmICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBmb3IgSElWIiB0aGVuICdIZWFsdGgtY2FyZSBwcm92aWRlcnMgc2hvdWxkIHN1YnNlcXVlbnRseSB0ZXN0IGFsbCBwZXJzb25zIGxpa2VseSB0byBiZSBhdCBoaWdoIHJpc2sgZm9yIEhJViBhdCBsZWFzdCBldmVyeSAzIG1vbnRocy4gUGVyc29ucyBsaWtlbHkgdG8gYmUgYXQgaGlnaCByaXNrIGluY2x1ZGUgcGVyc29ucyB3aXRoIHByb2JsZW1zIHJlbGF0ZWQgdG8gZHJ1ZyBhYnVzZSwgaW5qZWN0aW9uLWRydWcgdXNlcnMgYW5kIHRoZWlyIHNleCBwYXJ0bmVycywgcGVyc29ucyB3aG8gZXhjaGFuZ2Ugc2V4IGZvciBtb25leSBvciBkcnVncywgc2V4IHBhcnRuZXJzIG9mIEhJVi1pbmZlY3RlZCBwZXJzb25zLCBhbmQgTVNNIG9yIGhldGVyb3NleHVhbCBwZXJzb25zIHdobyB0aGVtc2VsdmVzIG9yIHdob3NlIHNleCBwYXJ0bmVycyBoYXZlIGhhZCBtb3JlIHRoYW4gb25lIHNleCBwYXJ0bmVyIHNpbmNlIHRoZWlyIG1vc3QgcmVjZW50IEhJViB0ZXN0LicKICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IE1vZGVyYXRlIFJpc2sgZm9yIEhJViIgdGhlbiAnSGVhbHRoLWNhcmUgcHJvdmlkZXJzIHNob3VsZCBzdWJzZXF1ZW50bHkgdGVzdCBhbGwgcGVyc29ucyBsaWtlbHkgdG8gYmUgYXQgbW9kZXJhdGUgcmlzayBmb3IgSElWIGF0IGxlYXN0IGFubnVhbGx5LiBQZXJzb25zIGxpa2VseSB0byBiZSBhdCBtb2RlcmF0ZSByaXNrIGluY2x1ZGUgTVNNLCBUcmFuc2dlbmRlciBQZXJzb25zLCBhbmQgR2F5IG9yIEJpc2V4dWFsIE1lbiB3aG8gYXJlIHNleHVhbGx5IGFjdGl2ZSBhbmQgaGF2ZSBzZXggd2l0aCBvdGhlciBtZW4uJwogIGVsc2UgaWYgIlBhdGllbnQgaXMgYXQgTm8gUmlzayBmb3IgSElWIiB0aGVuICdUaGUgVGFzayBGb3JjZSBtYWRlIG5vIHJlY29tbWVuZGF0aW9uIGZvciBvciBhZ2FpbnN0IHJvdXRpbmVseSBzY3JlZW5pbmcgYXN5bXB0b21hdGljIGFkdWx0cyBhbmQgYWRvbGVzY2VudHMgd2l0aCBubyBpZGVudGlmaWFibGUgcmlzayBmYWN0b3JzIGZvciBISVYuIFRoZSBUYXNrIEZvcmNlIGNvbmNsdWRlZCB0aGF0IHN1Y2ggc2NyZWVuaW5nIHdvdWxkIGRldGVjdCBhZGRpdGlvbmFsIHBhdGllbnRzIHdpdGggSElWLCBidXQgdGhlIG92ZXJhbGwgbnVtYmVyIHdvdWxkIGJlIGxpbWl0ZWQsIGFuZCB0aGUgcG90ZW50aWFsIGJlbmVmaXRzIGRpZCBub3QgY2xlYXJseSBvdXR3ZWlnaCB0aGUgYnVyZGVuIG9uIHByaW1hcnkgY2FyZSBwcmFjdGljZXMgb3IgdGhlIHBvdGVudGlhbCBoYXJtcyBvZiBhIGdlbmVyYWwgSElWIHNjcmVlbmluZyBwcm9ncmFtLicKICBlbHNlICdJbiBsb3cgcHJldmFsZW5jZSBzZXR0aW5ncywgaW4gd2hpY2ggdGhlIG1ham9yaXR5IG9mIGNsaWVudHMgYXJlIGF0IG1pbmltYWwgcmlzaywgdGFyZ2V0ZWQgSElWIHRlc3Rpbmcgb24gdGhlIGJhc2lzIG9mIHJpc2sgc2NyZWVuaW5nIHdhcyBjb25zaWRlcmVkIG1vcmUgZmVhc2libGUgZm9yIGlkZW50aWZ5aW5nIGxpbWl0ZWQgbnVtYmVycyBvZiBISVYtaW5mZWN0ZWQgcGVyc29ucy4gVGhlIFRhc2sgRm9yY2UgY29uY2x1ZGVkIHRoYXQgc3VjaCBzY3JlZW5pbmcgd291bGQgZGV0ZWN0IGFkZGl0aW9uYWwgcGF0aWVudHMgd2l0aCBISVYsIGJ1dCB0aGUgb3ZlcmFsbCBudW1iZXIgd291bGQgYmUgbGltaXRlZCwgYW5kIHRoZSBwb3RlbnRpYWwgYmVuZWZpdHMgZGlkIG5vdCBjbGVhcmx5IG91dHdlaWdoIHRoZSBidXJkZW4gb24gcHJpbWFyeSBjYXJlIHByYWN0aWNlcyBvciB0aGUgcG90ZW50aWFsIGhhcm1zIG9mIGEgZ2VuZXJhbCBISVYgc2NyZWVuaW5nIHByb2dyYW0uJwoKZGVmaW5lICJSaXNrIExldmVsIEluZGljYXRvciBTdGF0dXMiOgogIGlmICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBmb3IgSElWIiB0aGVuICJDcml0aWNhbCIKICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IE1vZGVyYXRlIFJpc2sgZm9yIEhJViIgdGhlbiAiV2FybmluZyIKICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IE5vIFJpc2sgZm9yIEhJViIgdGhlbiAiSW5mbyIKICBlbHNlICJJbmZvIgoKZGVmaW5lICJFeGNsdXNpb24gUmVhc29uIjoKICBpZiAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIiB0aGVuCiAgICAoCiAgICAgICdQYXRpZW50IHdhcyBleGNsdWRlZCBmcm9tIEhJViBTY3JlZW5pbmcgJwogICAgICArICgKICAgICAgICAgIGlmIG5vdCAiUGF0aWVudCBpcyBiZXR3ZWVuIDEzIGFuZCA2NCB5ZWFycyBvbGQiIHRoZW4gJ2R1ZSB0byBub3QgYmVpbmcgYmV0d2VlbiB0aGUgYWdlcyBvZiAxMyBhbmQgNjQuJwogICAgICAgICAgZWxzZSBpZiAiQWN0aXZlIERpYWdub3NpcyBvZiBISVYgRHVyaW5nIFBhdGllbnQgVmlzaXQiIGlzIG5vdCBudWxsIHRoZW4gJ2R1ZSB0byB0aGUgcGF0aWVudCBhbHJlYWR5IGhhdmluZyBiZWVuIGRpYWdub3NlZCB3aXRoIEhJVi4nCiAgICAgICAgICBlbHNlICcnCiAgICAgICAgKQogICAgKQogIGVsc2UgJycKCgovKiBISVYgU2NyZWVuaW5nIFdvcmtmbG93ICovCi8vIFBhdGllbnQgVmlzaXQgT2NjdXJyZWQKZGVmaW5lICJQYXRpZW50IEVuY291bnRlciI6CiAgTGFzdCgKICAgIChIQy5RdWFsaWZpZWRFbmNvdW50ZXJzKAogICAgICBIREUuIkVuY291bnRlciBUeXBlIgogICAgICB1bmlvbiBIREUuIlByZWduYW5jeSBFbmNvdW50ZXJzIgogICAgICB1bmlvbiBIREUuIlRoaXJkIFRyaW1lc3RlciBFbmNvdW50ZXJzIgogICAgKSkgUGF0aWVudEVuY291bnRlcgogICAgc29ydCBieSBlbmQgb2YgcGVyaW9kKQoKCi8qIERldGVybWluZSBQYXRpZW50IENoYXJhY3RlcmlzdGljcyBhbmQgVGVzdGluZyBDcml0ZXJpYSAqLwpkZWZpbmUgIlBhdGllbnQgaXMgYmV0d2VlbiAxMyBhbmQgNjQgeWVhcnMgb2xkIjoKICBBZ2VJblllYXJzQXQoZW5kIG9mICJQYXRpZW50IEVuY291bnRlciIucGVyaW9kKSA+PSAxMwogIGFuZCBBZ2VJblllYXJzQXQoZW5kIG9mICJQYXRpZW50IEVuY291bnRlciIucGVyaW9kKSA8PSA2NAoKZGVmaW5lICJBY3RpdmUgRGlhZ25vc2lzIG9mIEhJViBEdXJpbmcgUGF0aWVudCBWaXNpdCI6CiAgKExhc3QoCiAgICAoSEMuUXVhbGlmaWVkQ29uZGl0aW9ucyhIREUuIkhJViBEaWFnbm9zaXMiKSkgSElWRGlhZ25vc2lzCiAgICAgIHNvcnQgYnkgZW5kIG9mIEZDLlRvSW50ZXJ2YWwoYWJhdGVtZW50KQogICkpIEhJVkRpYWdub3NpcwogICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgc3VjaCB0aGF0IEZDLlRvUHJldmFsZW5jZUludGVydmFsKEhJVkRpYWdub3Npcykgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QKCmRlZmluZSAiSElWIFNjcmVlbmluZyBUZXN0IjoKICAoCiAgICBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJISVYgVGVzdCIpCiAgICB1bmlvbiBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJQcmV2aW91cyBISVYgU2NyZWVuaW5nIikKICApIEhJVlNjcmVlbmluZwogICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoSElWU2NyZWVuaW5nLmVmZmVjdGl2ZSkgYmVmb3JlIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kCgpkZWZpbmUgIlBhdGllbnQgaGFzIGhhZCBhbiBISVYgU2NyZWVuaW5nIjoKICBleGlzdHMoIkhJViBTY3JlZW5pbmcgVGVzdCIpCgpkZWZpbmUgIlByZXZpb3VzIEhJViBTY3JlZW5pbmcgVGVzdCI6CiAgZnJvbQogICgKICAgIExhc3QoIkhJViBTY3JlZW5pbmcgVGVzdCIgSElWVGVzdAogICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGVmZmVjdGl2ZSkpCiAgKSBNb3N0UmVjZW50SElWVGVzdCwKICAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgIHdoZXJlIEZDLlRvSW50ZXJ2YWwoTW9zdFJlY2VudEhJVlRlc3QuZWZmZWN0aXZlKSBiZWZvcmUgUGF0aWVudEVuY291bnRlci5wZXJpb2QKCmRlZmluZSAiQW1vdW50IG9mIERheXMgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyI6CiAgIlByZXZpb3VzIEhJViBTY3JlZW5pbmcgVGVzdCIgSElWVGVzdAogICAgcmV0dXJuIGR1cmF0aW9uIGluIGRheXMgYmV0d2VlbiBlbmQgb2YgRkMuVG9JbnRlcnZhbChISVZUZXN0Lk1vc3RSZWNlbnRISVZUZXN0LmVmZmVjdGl2ZSkgYW5kIGVuZCBvZiBISVZUZXN0LlBhdGllbnRFbmNvdW50ZXIucGVyaW9kCgpkZWZpbmUgIk92ZXIgYSBZZWFyIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciOgogICJQcmV2aW91cyBISVYgU2NyZWVuaW5nIFRlc3QiIEhJVlRlc3QKICAgIHJldHVybiAoZHVyYXRpb24gaW4geWVhcnMgYmV0d2VlbiBlbmQgb2YgRkMuVG9JbnRlcnZhbChISVZUZXN0Lk1vc3RSZWNlbnRISVZUZXN0LmVmZmVjdGl2ZSkgYW5kIGVuZCBvZiBISVZUZXN0LlBhdGllbnRFbmNvdW50ZXIucGVyaW9kKSA+PSAxCgpkZWZpbmUgIk92ZXIgMyBNb250aHMgaGFzIFBhc3QgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyI6CiAgIlByZXZpb3VzIEhJViBTY3JlZW5pbmcgVGVzdCIgSElWVGVzdAogICAgcmV0dXJuIChkdXJhdGlvbiBpbiBtb250aHMgYmV0d2VlbiBlbmQgb2YgRkMuVG9JbnRlcnZhbChISVZUZXN0Lk1vc3RSZWNlbnRISVZUZXN0LmVmZmVjdGl2ZSkgYW5kIGVuZCBvZiBISVZUZXN0LlBhdGllbnRFbmNvdW50ZXIucGVyaW9kKSA+PSAzCgpkZWZpbmUgIlBhdGllbnQgaGFzIFJlY2VpdmVkIFByZSBFeHBvc3VyZSBQcm9waHlsYXhpcyI6CiAgZXhpc3RzKAogICAgSEMuUXVhbGlmaWVkTWVkaWNhdGlvblJlcXVlc3RzKEhERS4iUHJlcCBNZWRpY2F0aW9uIFByZXNjcmlwdGlvbnMiKQogICAgdW5pb24gSEMuUXVhbGlmaWVkTWVkaWNhdGlvbkRpc3BlbnNlcyhIREUuIlByZXAgRGlzcGVuc2VkIE1lZGljYXRpb25zIikKICAgIHVuaW9uIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlByZXZpb3VzIGV4cGVyaWVuY2Ugd2l0aCBQUkVQIikKICApIFByRVAKCgovKiBEZXRlcm1pbmUgUGF0aWVudCdzIENhdGVnb3J5IChnZW5kZXIsIHByZWduYW5jeSwgTVNNLCBzZXh1YWwgYWN0aXZpdHksIGV0YykgKi8KZGVmaW5lICJQYXRpZW50IGlzIE1hbGUiOgogIGlmIFBhdGllbnQuZ2VuZGVyID0gJ21hbGUnIHRoZW4gdHJ1ZSBlbHNlIGZhbHNlCgpkZWZpbmUgIlBhdGllbnQgaXMgRmVtYWxlIjoKICBpZiBQYXRpZW50LmdlbmRlciA9ICdmZW1hbGUnIHRoZW4gdHJ1ZSBlbHNlIGZhbHNlCgpkZWZpbmUgIlBhdGllbnQgaXMgVHJhbnNnZW5kZXIiOgogICAgSERFLiJHZW5kZXIgSWRlbnRpdHkiIGluIEN4LiJUcmFuc2dlbmRlciIKCmRlZmluZSAiUGF0aWVudCBpcyBHYXkgb3IgQmlzZXh1YWwiOgogICAgICBIREUuIlNleHVhbCBPcmllbnRhdGlvbiIgaW4gQ3guIkdheSBPciBCaXNleHVhbCIKCmRlZmluZSAiUGF0aWVudCBpcyBQcmVnbmFudCI6CiAgZXhpc3RzKAogICAgKEhDLlF1YWxpZmllZENvbmRpdGlvbnMoSERFLiJQcmVnbmFuY3kgQ29uZGl0aW9ucyIpKSBQcmVnbmFuY3kKICAgICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgICBzdWNoIHRoYXQgRkMuVG9QcmV2YWxlbmNlSW50ZXJ2YWwoUHJlZ25hbmN5KSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZAogICkKCgovKiBEZXRlcm1pbmUgUGF0aWVudCdzIFJpc2sgTGV2ZWwgKEhpZ2ggUmlzaywgTm9ybWFsIFJpc2ssIE5vIFJpc2ssIExvdyBSaXNrKSAqLwovLyBQcmVkb21pbmFudGx5IGJhc2VkIG9mZiBlbGVtZW50cyBidWlsdCBmcm9tIHRoZSByaXNrLWZhY3RvcnMgcXVlc3Rpb25uYWlyZQovLyBSSVNLUzogU1RJcywgSW5qZWN0aW9uIERydWcgVXNlLCBTZXggcGFydG5lciBoYXMgSElWLCBTZXggRXhjaGFuZ2VkIGZvciBEcnVncy9Nb25leSwgTW9yZSB0aGFuIDEgUGFydG5lciBzaW5jZSBwcmV2aW91cyBzY3JlZW5pbmcgKGZvciB0aGVtc2VsdmVzIG9yIHRoZWlyIHBhcnRuZXJzKSwgRHJ1ZyBhYnVzZQoKLyogMS4gUmVjb21tZW5kIFNjcmVlbmluZyAzIG1vbnRocyAoSGlnaCBSaXNrIC0gQ0RDIFJpc2sgRmFjdG9ycykKICAgIDIuIFJlY29tbWVuZCBTY3JlZW5pbmcgQW5udWFsbHkgKE1vZGVyYXRlIFJpc2sgLSBTT0dJIFJpc2sgRmFjdG9ycykKICAgIDMuIE5vIFJlY29tbWVuZGF0aW9uIFNjcmVlbmluZyAoTm8gUmlzaykgLyBMb3cgUmlzawogICAgNC4gUmVjb21tZW5kIFNjcmVlbmluZyBDdXN0b20gUGVyaW9kcyAoMyBtb250aHMgYmFzZWQgb24gc3BlY2lmaWMgcmlzayBmYWN0b3IgLS0gc2V4dWFsbHkgYWN0aXZlIE1TTSB3LyBwcmVwLCBldGMpCiAgICAgIC8vIE1TTSAvIFByZWduYW5jeSAvIENEQyBSZWNvbW1lbmRhdGlvbgoqLwoKLyogSElHSCBSSVNLICovCi8vIEhpZ2ggUmlzayAtLSBPdGhlciBTVElzCmRlZmluZSAiQWN0aXZlIERpYWdub3NpcyBvZiBIQ1YgRHVyaW5nIFBhdGllbnQgVmlzaXQiOgogICgKICAgIChMYXN0KAogICAgICAoSEMuUXVhbGlmaWVkQ29uZGl0aW9ucyhIREUuIkhlcGF0aXRpcyBDIERpYWdub3NpcyIpKSBIQ1ZEaWFnbm9zaXMKICAgICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGFiYXRlbWVudCkpCiAgICApIEhDVkRpYWdub3NpcwogICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgc3VjaCB0aGF0IEZDLlRvUHJldmFsZW5jZUludGVydmFsKEhDVkRpYWdub3Npcykgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QKICApIGlzIG5vdCBudWxsCiAgb3IgZXhpc3RzKAogICAgKEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlBhdGllbnQgRGlhZ25vc2VkIHdpdGggSENWIikpIEhDVk9ic2VydmVkCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyCiAgICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoSENWT2JzZXJ2ZWQuZWZmZWN0aXZlKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZAogICkKCmRlZmluZSAiQWN0aXZlIERpYWdub3NpcyBvZiBTeXBoaWxpcyBEdXJpbmcgUGF0aWVudCBWaXNpdCI6CiAgKAogICAgKExhc3QoCiAgICAgIChIQy5RdWFsaWZpZWRDb25kaXRpb25zKEhERS4iU3lwaGlsaXMgRGlhZ25vc2lzIikpIFN5cGhpbGlzRGlhZ25vc2lzCiAgICAgICAgc29ydCBieSBlbmQgb2YgRkMuVG9JbnRlcnZhbChhYmF0ZW1lbnQpKQogICAgKSBTeXBoaWxpc0RpYWdub3NpcwogICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgc3VjaCB0aGF0IEZDLlRvUHJldmFsZW5jZUludGVydmFsKFN5cGhpbGlzRGlhZ25vc2lzKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZAogICkgaXMgbm90IG51bGwKICBvciBleGlzdHMoCiAgICAoSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iUGF0aWVudCBEaWFnbm9zZWQgd2l0aCBTeXBoaWxpcyIpKSBTeXBoaWxpc09ic2VydmVkCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyCiAgICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoU3lwaGlsaXNPYnNlcnZlZC5lZmZlY3RpdmUpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kCiAgKQoKZGVmaW5lICJBY3RpdmUgRGlhZ25vc2lzIG9mIEdvbm9ycmhlYSBEdXJpbmcgUGF0aWVudCBWaXNpdCI6CiAgKAogICAgKExhc3QoCiAgICAgIChIQy5RdWFsaWZpZWRDb25kaXRpb25zKEhERS4iR29ub3JyaGVhIERpYWdub3NpcyIpKSBHb25vcnJoZWFEaWFnbm9zaXMKICAgICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGFiYXRlbWVudCkpCiAgICApIEdvbm9ycmhlYURpYWdub3NpcwogICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgc3VjaCB0aGF0IEZDLlRvUHJldmFsZW5jZUludGVydmFsKEdvbm9ycmhlYURpYWdub3Npcykgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QKICApIGlzIG5vdCBudWxsCiAgb3IgZXhpc3RzKAogICAgKEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlBhdGllbnQgRGlhZ25vc2VkIHdpdGggR29ub3JyaGVhIikpIEdvbm9ycmhlYU9ic2VydmVkCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyCiAgICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoR29ub3JyaGVhT2JzZXJ2ZWQuZWZmZWN0aXZlKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZAogICkKCmRlZmluZSAiQWN0aXZlIERpYWdub3NpcyBvZiBDaGxhbXlkaWEgRHVyaW5nIFBhdGllbnQgVmlzaXQiOgogICgKICAgIChMYXN0KAogICAgICAoSEMuUXVhbGlmaWVkQ29uZGl0aW9ucyhIREUuIkNobGFteWRpYSBEaWFnbm9zaXMiKSkgQ2hsYW15ZGlhRGlhZ25vc2lzCiAgICAgICAgc29ydCBieSBlbmQgb2YgRkMuVG9JbnRlcnZhbChhYmF0ZW1lbnQpKQogICAgKSBDaGxhbXlkaWFEaWFnbm9zaXMKICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyCiAgICAgIHN1Y2ggdGhhdCBGQy5Ub1ByZXZhbGVuY2VJbnRlcnZhbChDaGxhbXlkaWFEaWFnbm9zaXMpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kCiAgKSBpcyBub3QgbnVsbAogIG9yIGV4aXN0cygKICAgIChIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJQYXRpZW50IERpYWdub3NlZCB3aXRoIENobGFteWRpYSIpKSBDaGxhbXlkaWFPYnNlcnZlZAogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcgogICAgICAgIHN1Y2ggdGhhdCBGQy5Ub0ludGVydmFsKENobGFteWRpYU9ic2VydmVkLmVmZmVjdGl2ZSkgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QKICApCgpkZWZpbmUgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBhIFNURCI6CiAgIkFjdGl2ZSBEaWFnbm9zaXMgb2YgSENWIER1cmluZyBQYXRpZW50IFZpc2l0IgogIG9yICJBY3RpdmUgRGlhZ25vc2lzIG9mIFN5cGhpbGlzIER1cmluZyBQYXRpZW50IFZpc2l0IgogIG9yICJBY3RpdmUgRGlhZ25vc2lzIG9mIEdvbm9ycmhlYSBEdXJpbmcgUGF0aWVudCBWaXNpdCIKICBvciAiQWN0aXZlIERpYWdub3NpcyBvZiBDaGxhbXlkaWEgRHVyaW5nIFBhdGllbnQgVmlzaXQiCgovLyBIaWdoIFJpc2sgLS0gSW5qZWN0aW9uIERydWcgVXNlCi8vIE5PVEU6IFdoYXQgaXMgY29uc2lkZXJlZCBhbiBBY3RpdmUgVGltZSBQZXJpb2QgZm9yIEluamVjdGlvbiBEcnVnIFVzZT8KZGVmaW5lICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gSW5qZWN0aW9uIERydWcgVXNlIjoKICAoCiAgICAoTGFzdCgKICAgICAgKAogICAgICAgIEhDLlF1YWxpZmllZFByb2NlZHVyZXMoSERFLiJEcnVnIFJlaGFiaWxpdGF0aW9uIikKICAgICAgICB1bmlvbiBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJJbmplY3Rpb24gRmluZGluZ3MiKQogICAgICAgIHVuaW9uIEhDLlF1YWxpZmllZENvbmRpdGlvbnMoSERFLiJJbmplY3Rpb24gRHJ1ZyBVc2UgRGlhZ25vc2lzIikKICAgICAgICB1bmlvbiBIQy5RdWFsaWZpZWRNZWRpY2F0aW9uU3RhdGVtZW50cyhIREUuIkluamVjdGlvbiBEcnVnIFVzZSIpCiAgICAgICAgdW5pb24gSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iUGF0aWVudCBoYXMgdXNlZCBJbmplY3Rpb24gRHJ1Z3MiKQogICAgICApIEluamVjdGlvbkRydWdVc2UKICAgICAgICAgIHJldHVybiBUdXBsZSB7CiAgICAgICAgICAgIHJlc291cmNlOiBJbmplY3Rpb25EcnVnVXNlLAogICAgICAgICAgICBJRFVUaW1pbmc6IENvYWxlc2NlKAogICAgICAgICAgICAgIGVuZCBvZiBGQy5Ub0ludGVydmFsKEluamVjdGlvbkRydWdVc2UucGVyZm9ybWVkKSwgZW5kIG9mIEZDLlRvSW50ZXJ2YWwoSW5qZWN0aW9uRHJ1Z1VzZS5lZmZlY3RpdmUpLCBlbmQgb2YgRkMuVG9QcmV2YWxlbmNlSW50ZXJ2YWwoSW5qZWN0aW9uRHJ1Z1VzZSkKICAgICAgICAgICAgKSB9IHNvcnQgYnkgSURVVGltaW5nKS5yZXNvdXJjZQogICAgKSBJbmplY3Rpb25EcnVnVXNlCiAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcgogICAgICBzdWNoIHRoYXQgQ29hbGVzY2UoRkMuVG9JbnRlcnZhbChJbmplY3Rpb25EcnVnVXNlLnBlcmZvcm1lZCksIEZDLlRvSW50ZXJ2YWwoSW5qZWN0aW9uRHJ1Z1VzZS5lZmZlY3RpdmUpLCBGQy5Ub1ByZXZhbGVuY2VJbnRlcnZhbChJbmplY3Rpb25EcnVnVXNlKSkgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QKICApIGlzIG5vdCBudWxsCgovL0hpZ2ggUmlzayAtLSBEcnVnIEFidXNlCmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIERydWcgQWJ1c2UiOgogICJQYXRpZW50IEhhcyBIaWdoIERlZ3JlZSBPZiBQcm9ibGVtcyBSZWxhdGVkIFRvIERydWcgQWJ1c2UiCgovLyBIaWdoIFJpc2sgLS0gUGFydG5lciB3aXRoIEhJVgpkZWZpbmUgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBTZXh1YWwgUGFydG5lciBoYXZpbmcgSElWIjoKICBleGlzdHMoCiAgICAoSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iU2V4dWFsIEFjdGl2aXR5IC0gUGFydG5lcnMgSElWIEhpc3RvcnkiKSkgSElWUGFydG5lckhpc3RvcnkKICAgICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgICBzdWNoIHRoYXQgRkMuVG9JbnRlcnZhbChISVZQYXJ0bmVySGlzdG9yeS5lZmZlY3RpdmUpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kCiAgKQoKLy8gSGlnaCBSaXNrIC0tIFNleCBFeGNoYW5nZWQgZm9yIERydWdzL01vbmV5CmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIGV4Y2hhbmdpbmcgc2V4IGZvciBtb25leSBhbmQvb3IgZHJ1Z3MiOgogIGV4aXN0cygKICAgIChIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBFeGNoYW5nZWQgZm9yIFNleCIpKSBTZXhFeGNoYW5nZWQKICAgICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXIKICAgICAgICBzdWNoIHRoYXQgRkMuVG9JbnRlcnZhbChTZXhFeGNoYW5nZWQuZWZmZWN0aXZlKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZAogICkKCi8vIEhpZ2ggUmlzayAtLSBNdWx0aXBsZSBTZXggUGFydG5lcnMgc2luY2UgcHJldmlvdXMgSElWIFNjcmVlbmluZyBmb3IgUGF0aWVudCBvciB0aGVpciBwYXJ0bmVyCmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIE11bHRpcGxlIFNleCBQYXJ0bmVycyBzaW5jZSBsYXN0IHNjcmVlbmluZyI6CiAgKAogICAgKExhc3QoCiAgICAgICgKICAgICAgICBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJISVYgVGVzdCIpCiAgICAgICAgdW5pb24gSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iUHJldmlvdXMgSElWIFNjcmVlbmluZyIpCiAgICAgICkgSElWU2NyZWVuaW5nCiAgICAgIHNvcnQgYnkgZW5kIG9mIEZDLlRvSW50ZXJ2YWwoZWZmZWN0aXZlKQogICkpIEhJVlNjcmVlbmluZwogICAgd2l0aCAoCiAgICAgIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlNleHVhbCBBY3Rpdml0eSAtIE51bWJlciBvZiBQYXJ0bmVycyIpCiAgICAgIHVuaW9uIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlNleHVhbCBBY3Rpdml0eSAtIFBhcnRuZXJzIE51bWJlciBvZiBQYXJ0bmVycyIpCiAgICApIE51bWJlck9mUGFydG5lcnMKICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoSElWU2NyZWVuaW5nLmVmZmVjdGl2ZSkgYmVmb3JlIEZDLlRvSW50ZXJ2YWwoTnVtYmVyT2ZQYXJ0bmVycy5lZmZlY3RpdmUpCiAgKSBpcyBub3QgbnVsbAoKZGVmaW5lICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBmb3IgSElWIjoKICAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIGEgU1REIgogIG9yICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gSW5qZWN0aW9uIERydWcgVXNlIgogIG9yICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gRHJ1ZyBBYnVzZSIKICBvciAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIFNleHVhbCBQYXJ0bmVyIGhhdmluZyBISVYiCiAgb3IgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBleGNoYW5naW5nIHNleCBmb3IgbW9uZXkgYW5kL29yIGRydWdzIgogIG9yICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gTXVsdGlwbGUgU2V4IFBhcnRuZXJzIHNpbmNlIGxhc3Qgc2NyZWVuaW5nIgoKCi8qIE1PREVSQVRFIFJJU0sgKi8KLy8gU2V4dWFsbHkgYWN0aXZlIE1TTSwgVHJhbnNnZW5kZXIgcGF0aWVudCBzZXh1YWxseSBhY3RpdmUgd2l0aCBtZW4sIEdheSBhbmQgYmlzZXh1YWwgbWVuIHVubGVzcyBkb2N1bWVudGVkIG5vdCBzZXh1YWxseSBhY3RpdmUKCi8vIE1vZGVyYXRlIFJpc2sgLS0gQW55IHNleHVhbGx5IGFjdGl2ZSBNU00KZGVmaW5lICJTZXh1YWxseSBBY3RpdmUgTVNNIFBhdGllbnQiOgogIGlmICJQYXRpZW50IGlzIE1hbGUiIHRoZW4KICAgICgKICAgICAgZXhpc3RzKAogICAgICAgIChIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBNZW4iKSkgTVNNT2JzZXJ2ZWQKICAgICAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyCiAgICAgICAgICAgIHN1Y2ggdGhhdCBGQy5Ub0ludGVydmFsKE1TTU9ic2VydmVkLmVmZmVjdGl2ZSkgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QKICAgICAgKQogICAgKQogIGVsc2UgZmFsc2UKCi8vIE1vZGVyYXRlIFJpc2sgLS0gVHJhbnNnZW5kZXIgcGF0aWVudHMgc2V4dWFsbHkgYWN0aXZlIHdpdGggbWVuCmRlZmluZSAiVHJhbnNnZW5kZXIgUGF0aWVudCBTZXh1YWxseSBBY3RpdmUgV2l0aCBNZW4iOgogIGlmICJQYXRpZW50IGlzIFRyYW5zZ2VuZGVyIiB0aGVuCiAgICAoCiAgICAgIGV4aXN0cygKICAgICAgICAoSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iU2V4dWFsIEFjdGl2aXR5IC0gTWVuIikpIE1TTU9ic2VydmVkCiAgICAgICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcgogICAgICAgICAgICBzdWNoIHRoYXQgRkMuVG9JbnRlcnZhbChNU01PYnNlcnZlZC5lZmZlY3RpdmUpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kCiAgICAgICkKICAgICkKICBlbHNlIGZhbHNlCgovLyBNb2RlcmF0ZSBSaXNrIC0tIEFsbCBnYXkgb3IgYmlzZXh1YWwgbWVuIHVubGVzcyBkb2N1bWVudGVkIG5vdCBzZXh1YWxseSBhY3RpdmUKZGVmaW5lICJNYWxlLCBHYXksIG9yIEJpc2V4dWFsIFBhdGllbnQgTm90IERvY3VtZW50ZWQgU2V4dWFsbHkgSW5hY3RpdmUiOgogICJQYXRpZW50IGlzIE1hbGUiIGFuZCAiUGF0aWVudCBpcyBHYXkgb3IgQmlzZXh1YWwiIGFuZCBub3QgIlBhdGllbnQgaXMgbm90IFNleHVhbGx5IEFjdGl2ZSIKCmRlZmluZSAiUGF0aWVudCBpcyBhdCBNb2RlcmF0ZSBSaXNrIGZvciBISVYiOgogICJTZXh1YWxseSBBY3RpdmUgTVNNIFBhdGllbnQiCiAgb3IgIlRyYW5zZ2VuZGVyIFBhdGllbnQgU2V4dWFsbHkgQWN0aXZlIFdpdGggTWVuIgogIG9yICJNYWxlLCBHYXksIG9yIEJpc2V4dWFsIFBhdGllbnQgTm90IERvY3VtZW50ZWQgU2V4dWFsbHkgSW5hY3RpdmUiCgoKLyogTm8gUmlzayAqLwovLyBOb3QgU2V4dWFsbHkgQWN0aXZlCmRlZmluZSAiUGF0aWVudCBpcyBub3QgU2V4dWFsbHkgQWN0aXZlIjoKICAoCiAgICAoCiAgICAgIExhc3QKICAgICAgKAogICAgICAgICgKICAgICAgICAgIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlNleHVhbCBBY3Rpdml0eSAtIFBhc3QgWWVhciIpCiAgICAgICAgICB1bmlvbiBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBIaXN0b3J5IikKICAgICAgICAgIHVuaW9uIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlNleHVhbCBBY3Rpdml0eSAtIE1lbiIpCiAgICAgICAgICB1bmlvbiBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBXb21lbiIpCgogICAgICAgICkgU2V4dWFsSGlzdG9yeQogICAgICAgICAgICB3aGVyZSBDb2FsZXNjZShMb3dlcihTZXh1YWxIaXN0b3J5LnZhbHVlIGFzIHN0cmluZykgaW4geyAnbm8nIH0sIFNleHVhbEhpc3RvcnkudmFsdWUgYXMgYm9vbGVhbiA9IGZhbHNlKQogICAgICAgICAgICAgIHNvcnQgYnkgQ29hbGVzY2UoZWZmZWN0aXZlLCBpc3N1ZWQpCiAgICAgICkKICAgICkgU2V4dWFsSGlzdG9yeQogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgRW5jb3VudGVyCiAgICAgICAgc3VjaCB0aGF0IENvYWxlc2NlKEZDLlRvSW50ZXJ2YWwoU2V4dWFsSGlzdG9yeS5lZmZlY3RpdmUpLCBGQy5Ub0ludGVydmFsKFNleHVhbEhpc3RvcnkuaXNzdWVkKSkgZHVyaW5nIEVuY291bnRlci5wZXJpb2QKICApIGlzIG5vdCBudWxsCgpkZWZpbmUgIlBhdGllbnQgaXMgYXQgTm8gUmlzayBmb3IgSElWIjoKICAiUGF0aWVudCBpcyBub3QgU2V4dWFsbHkgQWN0aXZlIgoKCi8qIExPVyBSSVNLICovCi8vIE5vdCBzZXh1YWxseSBhY3RpdmUKZGVmaW5lICJQYXRpZW50IGlzIGF0IExvdyBSaXNrIGZvciBISVYiOgogIG5vdCAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgZm9yIEhJViIKICBhbmQgbm90ICJQYXRpZW50IGlzIGF0IE1vZGVyYXRlIFJpc2sgZm9yIEhJViIKICBhbmQgbm90ICJQYXRpZW50IGlzIGF0IE5vIFJpc2sgZm9yIEhJViIKCgovKiBXb21lbiAmIE1lbiBXb3JrZmxvdyAqLwovLyBBbGwgV29tZW4gYW5kIE1lbiBiZXR3ZWVuIHRoZSBhZ2VzIDEzLTY0IGFuZC9vciB0aG9zZSB3aG8gYXJlIHNlZWtpbmcgdHJlYXRtZW50IGZvciBhbiBTVEQKZGVmaW5lICJQYXRpZW50IGlzIFNlZWtpbmcgVHJlYXRtZW50IGZvciBhbiBTVEQiOgogIGV4aXN0cygKICAgIChIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZWVraW5nIFNURCBUcmVhdG1lbnQiKSkgU2Vla2luZ1RyZWF0bWVudAogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcgogICAgICAgIHN1Y2ggdGhhdCBGQy5Ub0ludGVydmFsKFNlZWtpbmdUcmVhdG1lbnQuZWZmZWN0aXZlKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZAogICkKCgovKiBQcmVnbmFudCBXb21lbiBXb3JrZmxvdyAqLwovLyBBbGwgV29tZW4gc2hvdWxkIGJlIHNjcmVlbmVkIGF0IEluaXRpYWwgUHJlbmF0YWwgVmlzaXQKLy8gQWxsIHdvbWVuIHNob3VsZCBiZSByZXRlc3RlZCBpbiB0aGUgdGhpcmQgdHJpbWVzdGVyIGlmIHRoZXkncmUgaGlnaCByaXNrCi8vIE5PVEU6IFRoaXMgZGVmaW5pdGlvbiBpbXBsZW1lbnRhdGlvbiBpcyBuYWl2ZSBhbmQgZG9lcyBub3QgdGFrZSBpbnRvIGVmZmVjdCBtdWx0aXBsZSBwcmVnbmFuY2llcy4gQ29uc2lkZXIgdXNlIG9mIGFuIEVwaXNvZGVPZkNhcmUgcmVzb3VyY2UuCmRlZmluZSAiUGF0aWVudCBpcyBhdCBGaXJzdCBQcmVuYXRhbCBWaXNpdCI6CiAgKAogICAgKEZpcnN0KAogICAgICAoSEMuUXVhbGlmaWVkRW5jb3VudGVycyhIREUuIlByZWduYW5jeSBFbmNvdW50ZXJzIikpIFByZWduYW5jeUVuY291bnRlcgogICAgICBzb3J0IGJ5IGVuZCBvZiBwZXJpb2QKICAgICkpIFByZWduYW5jeUVuY291bnRlcgogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcgogICAgICAgIHN1Y2ggdGhhdCBQcmVnbmFuY3lFbmNvdW50ZXIuaWQgPSBQYXRpZW50RW5jb3VudGVyLmlkCiAgKSBpcyBub3QgbnVsbAoKZGVmaW5lICJQYXRpZW50IGlzIGluIFRoaXJkIFRyaW1lc3RlciBvZiBQcmVnbmFuY3kiOgogICgKICAgIChMYXN0KAogICAgICAoSEMuUXVhbGlmaWVkRW5jb3VudGVycyhIREUuIlRoaXJkIFRyaW1lc3RlciBFbmNvdW50ZXJzIikpIFRoaXJkVHJpbWVzdGVyRW5jb3VudGVyCiAgICBzb3J0IGJ5IGVuZCBvZiBwZXJpb2QKICAgICkpIFRoaXJkVHJpbWVzdGVyRW5jb3VudGVyCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyCiAgICAgICAgc3VjaCB0aGF0IFRoaXJkVHJpbWVzdGVyRW5jb3VudGVyLmlkID0gUGF0aWVudEVuY291bnRlci5pZAogICkgaXMgbm90IG51bGwKCmRlZmluZSAiUGF0aWVudCBpcyBIaWdoIFJpc2sgaW4gVGhpcmQgVHJpbWVzdGVyIG9mIFByZWduYW5jeSI6CiAgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIGZvciBISVYiCiAgYW5kICJQYXRpZW50IGlzIGluIFRoaXJkIFRyaW1lc3RlciBvZiBQcmVnbmFuY3kiCgoKLyogTVNNIChNZW4gd2hvIGhhdmUgc2V4IHdpdGggbWVuKSAqLwovLyBBdCBMZWFzdCBBbm51YWxseSBmb3Igc2V4dWFsbHkgYWN0aXZlIE1TTSBpZiBISVYgc3RhdHVzIGlzbid0IHBvc2l0aXZlIGFuZCBpZiBwYXRpZW50L3BhcnRuZXIgaGFzIGhhZCBtb3JlIHRoYW4gMSBwYXJ0bmVyIHNpbmNlIHByZXZpb3VzIHNjcmVlbmluZwovLyBGb3Igc2V4dWFsbHkgYWN0aXZlIE1TTSBUZXN0cyBzaG91bGQgb2NjdXIgZXZlcnkgMyBtb250aHMgaWYgdGhlIHBhdGllbnQgaGFzIGV4cGVyaWVuY2VkIHByZXAKZGVmaW5lICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aXRob3V0IEhJViI6CiAgIlNleHVhbGx5IEFjdGl2ZSBNU00gUGF0aWVudCIKICBhbmQgIkFjdGl2ZSBEaWFnbm9zaXMgb2YgSElWIER1cmluZyBQYXRpZW50IFZpc2l0IiBpcyBudWxsCgpkZWZpbmUgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdpdGggTXVsdGlwbGUgU2V4IFBhcnRuZXJzIjoKICAiUGF0aWVudCBpcyBhIFNleHVhbGx5IEFjdGl2ZSBNU00gd2l0aG91dCBISVYiCiAgYW5kICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gTXVsdGlwbGUgU2V4IFBhcnRuZXJzIHNpbmNlIGxhc3Qgc2NyZWVuaW5nIgoKZGVmaW5lICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aG8gc2hvdWxkIGJlIFNjcmVlbmVkIEFubnVhbGx5IjoKICAiUGF0aWVudCBpcyBhIFNleHVhbGx5IEFjdGl2ZSBNU00gd2l0aCBNdWx0aXBsZSBTZXggUGFydG5lcnMiCiAgYW5kICJPdmVyIGEgWWVhciBoYXMgUGFzdCBTaW5jZSBQcmV2aW91cyBISVYgU2NyZWVuaW5nIgoKZGVmaW5lICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aG8gc2hvdWxkIGJlIFNjcmVlbmVkIEV2ZXJ5IDMgTW9udGhzIjoKICAiUGF0aWVudCBpcyBhIFNleHVhbGx5IEFjdGl2ZSBNU00gd2l0aG91dCBISVYiCiAgYW5kICJQYXRpZW50IGhhcyBSZWNlaXZlZCBQcmUgRXhwb3N1cmUgUHJvcGh5bGF4aXMiCiAgYW5kICJPdmVyIDMgTW9udGhzIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciCgoKLyogRHJ1ZyBBYnVzZSBTY3JlbmluZyBUZXN0IChEQVNULTEwKSBRdWVzdGlvbm5haXJlICovCi8vIFNjb3JlIGFjcXVpcmVkIGVpdGhlciBieSB0YWxseWluZyBjb2RlcyBmb3IgREFTVC0xMCBxdWVzdGlvbnMgb3IgYnkgdGhlIHZhbHVlIGZpZWxkIG9mIERBU1QtMTAgUXVlc3Rpb25uYWlyZSBvciByZXN1bHQgY29kZXMKLy8gSGlnaCBSaXNrOiA+PSA2Ci8vIE5vcm1hbCBSaXNrOiAzIC0gNQovLyBMb3cgUmlzazogMSAtIDIKLy8gTm8gUmlzazogMAoKZGVmaW5lICJEQVNUIDEwIFJlc3VsdCBTY29yZSI6CiAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgU2NvcmUiKS52YWx1ZSBhcyBpbnRlZ2VyCgpkZWZpbmUgIkFsbCBEQVNUIDEwIFF1ZXN0aW9ucyI6CiAgewogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gMSIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gMiIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gMyIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gNCIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gNSIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gNiIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gNyIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gOCIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gOSIpLAogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gMTAiKQogIH0KCmRlZmluZSAiTGF0ZXN0IERBU1QgMTAgUXVlc3Rpb25zIERhdGUiOgogIGRhdGUgZnJvbSBzdGFydCBvZiBGQy5Ub0ludGVydmFsKE5DLk1vc3RSZWNlbnQoIkFsbCBEQVNUIDEwIFF1ZXN0aW9ucyIpLmVmZmVjdGl2ZSkKCmRlZmluZSAiREFTVCAxMCBRdWVzdGlvbnMgU2NvcmUiOgogIENvdW50KAogICAgIkFsbCBEQVNUIDEwIFF1ZXN0aW9ucyIgcXVlc3Rpb24KICAgICAgd2hlcmUgcXVlc3Rpb24udmFsdWUgYXMgYm9vbGVhbiBpcyB0cnVlCiAgKQoKZGVmaW5lICJMYXRlc3QgREFTVCAxMCBTY3JlZW5pbmcgRGF0ZSI6CiAgZGF0ZSBmcm9tIHN0YXJ0IG9mIEZDLlRvSW50ZXJ2YWwoTkMuTW9zdFJlY2VudCgKICAgIEhERS4iREFTVCAxMCBTY29yZSIKICAgICAgdW5pb24gIkFsbCBEQVNUIDEwIFF1ZXN0aW9ucyIKICApLmVmZmVjdGl2ZSkKCi8vIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBhIFNURCIKZGVmaW5lICJQYXRpZW50IEhhcyBIaWdoIERlZ3JlZSBPZiBQcm9ibGVtcyBSZWxhdGVkIFRvIERydWcgQWJ1c2UiOgogICgiREFTVCAxMCBSZXN1bHQgU2NvcmUiIGluICJEQVNUIDEwIEhpZ2ggUmlzayBTY29yZSIpCiAgb3IKICAoIkRBU1QgMTAgUXVlc3Rpb25zIFNjb3JlIiBpbiAiREFTVCAxMCBIaWdoIFJpc2sgU2NvcmUiKQoKZGVmaW5lICJQYXRpZW50IEhhcyBNb2RlcmF0ZSBEZWdyZWUgT2YgUHJvYmxlbXMgUmVsYXRlZCBUbyBEcnVnIEFidXNlIjoKICAoIkRBU1QgMTAgUmVzdWx0IFNjb3JlIiBpbiAiREFTVCAxMCBNb2RlcmF0ZSBSaXNrIFNjb3JlIikKICBvcgogICgiREFTVCAxMCBRdWVzdGlvbnMgU2NvcmUiIGluICJEQVNUIDEwIE1vZGVyYXRlIFJpc2sgU2NvcmUiKQoKZGVmaW5lICJQYXRpZW50IEhhcyBMb3cgRGVncmVlIE9mIFByb2JsZW1zIFJlbGF0ZWQgVG8gRHJ1ZyBBYnVzZSI6CiAgKCJEQVNUIDEwIFJlc3VsdCBTY29yZSIgaW4gIkRBU1QgMTAgTG93IFJpc2sgU2NvcmUiKQogIG9yCiAgKCJEQVNUIDEwIFF1ZXN0aW9ucyBTY29yZSIgaW4gIkRBU1QgMTAgTG93IFJpc2sgU2NvcmUiKQoKZGVmaW5lICJQYXRpZW50IEhhcyBMb3cgVG8gTW9kZXJhdGUgRGVncmVlIE9mIFByb2JsZW1zIFJlbGF0ZWQgVG8gRHJ1ZyBBYnVzZSI6CiAgIlBhdGllbnQgSGFzIExvdyBEZWdyZWUgT2YgUHJvYmxlbXMgUmVsYXRlZCBUbyBEcnVnIEFidXNlIgogIG9yCiAgIlBhdGllbnQgSGFzIE1vZGVyYXRlIERlZ3JlZSBPZiBQcm9ibGVtcyBSZWxhdGVkIFRvIERydWcgQWJ1c2UiCgpkZWZpbmUgIlBhdGllbnQgSGFzIE5vIFByb2JsZW1zIFJlbGF0ZWQgVG8gRHJ1ZyBBYnVzZSI6CiAgKCJEQVNUIDEwIFJlc3VsdCBTY29yZSIgaW4gIkRBU1QgMTAgTm8gUmlzayBTY29yZSIpCiAgb3IKICAoIkRBU1QgMTAgUXVlc3Rpb25zIFNjb3JlIiBpcyBudWxsKQoKZGVmaW5lICJQYXRpZW50IE5vdCBTY3JlZW5lZCBGb3IgRHJ1ZyBBYnVzZSBPciBTY3JlZW5pbmcgRXhwaXJlZCI6CiAgKCJMYXRlc3QgREFTVCAxMCBTY3JlZW5pbmcgRGF0ZSIgaXMgbnVsbCkKICBvcgogIChkaWZmZXJlbmNlIGluIHllYXJzIGJldHdlZW4gIkxhdGVzdCBEQVNUIDEwIFNjcmVlbmluZyBEYXRlIiBhbmQgVG9kYXkoKSA+PSAxKQoKZGVmaW5lICJEQVNUIDEwIEhpZ2ggUmlzayBTY29yZSI6CiAgSW50ZXJ2YWxbNiwxMF0KCmRlZmluZSAiREFTVCAxMCBNb2RlcmF0ZSBSaXNrIFNjb3JlIjoKICBJbnRlcnZhbFszLDVdCgpkZWZpbmUgIkRBU1QgMTAgTG93IFJpc2sgU2NvcmUiOgogIEludGVydmFsWzEsMl0KCmRlZmluZSAiREFTVCAxMCBObyBSaXNrIFNjb3JlIjoKICBJbnRlcnZhbFswLDBdCg=="
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Library/HIVScreening"
    }
  } ]
}